<?xml version="1.0"?>
<svg xmlns="http://www.w3.org/2000/svg"
     xmlns:xlink="http://www.w3.org/1999/xlink"
     width="900" height="700">
  <style type="text/css">
    rect.box {
      fill: #ffffff;
    }

    rect.class {
      fill: #e6f7e6;
      stroke: black;
      stroke-width: 1.2px;
    }
    rect.object {
      fill: #ffffff;
      stroke: black;
      stroke-width: 1.2px;
    }
    path.note {
      fill: #fff7f7;
      stroke: black;
      stroke-width: 1.2px;
    }

    path.proto-slot-arrow {
      fill: none;
      stroke: black;
      stroke-width: 1.2px;
      marker-end: url(#proto-slot-arrowend);
    }
    path.proto-slot-arrowend {
      fill: white;
      stroke: black;
      stroke-width: 1.2px;
    }

    path.prototype-arrow {
      fill: none;
      stroke: black;
      stroke-width: 1.2px;
      marker-end: url(#prototype-arrowend);
    }
    path.prototype-constructor-arrow {
      fill: none;
      stroke: black;
      stroke-width: 1.2px;
      marker-start: url(#prototype-arrowstart);
      marker-end: url(#prototype-arrowend);
    }
    path.prototype-arrowend {
      fill: none;
      stroke: black;
      stroke-width: 1.2px;
    }

    path.instance-arrow {
      fill: none;
      stroke: black;
      stroke-width: 1.2px;
      stroke-dasharray: 6, 6;
      marker-end: url(#prototype-arrowend);
    }

    path.note-arrow {
      stroke: black;
      stroke-width: 1.2px;
      stroke-dasharray: 6, 6;
    }

    text { font-family: Arial, Liberation Sans, sans-serif; }
    text { font-size: 14px; }
  </style>
  <g>
    <rect class="box" x="0" y="0" width="900" height="700" />

    <!-- classes -->

    <g transform="translate(370,90)">
      <rect class="class" x="0" y="0" width="160" height="30" />
      <g transform="translate(0,4)">
        <text x="80" y="16" text-anchor="middle">Object.prototype</text>
      </g>
    </g>

    <g transform="translate(360,160)">
      <rect class="class" x="0" y="0" width="180" height="30" />
      <rect class="class" x="0" y="30" width="180" height="70" />
      <g transform="translate(0,4)">
        <text x="90" y="16" text-anchor="middle">Function.prototype</text>
      </g>
      <g transform="translate(4,32)">
        <text x="0" y="16">%Symbol.hasInstance%()</text>
        <text x="0" y="32">apply()</text>
        <text x="0" y="48">bind()</text>
        <text x="0" y="64">call()</text>
      </g>
    </g>

    <g transform="translate(340,300)">
      <rect class="class" x="0" y="0" width="220" height="30" />
      <rect class="class" x="0" y="30" width="220" height="40" />
      <g transform="translate(0,4)">
        <text x="110" y="16" text-anchor="middle">%GeneratorFunction.prototype%</text>
      </g>
      <g transform="translate(4,32)">
        <text x="0" y="16">%Symbol.toStringTag% =</text>
        <text x="16" y="32">"GeneratorFunction"</text>
      </g>
    </g>

    <g transform="translate(20,200)">
      <rect class="class" x="0" y="0" width="160" height="60" />
      <g transform="translate(0,4)">
        <text x="80" y="16" text-anchor="middle">«constructor»</text>
        <text x="80" y="32" text-anchor="middle">«callable»</text>
        <text x="80" y="48" text-anchor="middle">Function</text>
      </g>
    </g>

    <g transform="translate(20,300)">
      <rect class="class" x="0" y="0" width="160" height="60" />
      <g transform="translate(0,4)">
        <text x="80" y="16" text-anchor="middle">«constructor»</text>
        <text x="80" y="32" text-anchor="middle">«callable»</text>
        <text x="80" y="48" text-anchor="middle">%GeneratorFunction%</text>
      </g>
    </g>

    <g transform="translate(680,120)">
      <rect class="class" x="0" y="0" width="200" height="30" />
      <rect class="class" x="0" y="30" width="200" height="30" />
      <g transform="translate(0,4)">
        <text x="100" y="16" text-anchor="middle">%IteratorPrototype%</text>
      </g>
      <g transform="translate(4,32)">
        <text x="0" y="16">%Symbol.iterator%() : object</text>
      </g>
    </g>

    <g transform="translate(630,300)">
      <rect class="class" x="0" y="0" width="250" height="30" />
      <rect class="class" x="0" y="30" width="250" height="24" />
      <rect class="class" x="0" y="54" width="250" height="56" />
      <g transform="translate(0,4)">
        <text x="120" y="16" text-anchor="middle">%GeneratorPrototype%</text>
      </g>
      <g transform="translate(4,32)">
        <text x="0" y="16">%Symbol.toStringTag% = "Generator"</text>
      </g>
      <g transform="translate(4,56)">
        <text x="0" y="16">next() : object</text>
        <text x="0" y="32">return()</text>
        <text x="0" y="48">throw()</text>
      </g>
    </g>

    <!-- objects -->

    <g transform="translate(370,440)">
      <rect class="object" x="0" y="0" width="160" height="50" />
      <g transform="translate(0,4)">
        <text x="80" y="16" text-anchor="middle">«callable»</text>
        <text x="80" y="32" text-anchor="middle">function *g1() { yield; }</text>
      </g>
    </g>

    <g transform="translate(720,440)">
      <rect class="object" x="0" y="0" width="160" height="30" />
      <g transform="translate(0,4)">
        <text x="80" y="16" text-anchor="middle">g1.prototype</text>
      </g>
    </g>

    <g transform="translate(720,500)">
      <rect class="object" x="0" y="0" width="160" height="30" />
      <g transform="translate(0,4)">
        <text x="80" y="16" text-anchor="middle">g1()</text>
      </g>
    </g>

    <!-- notes -->

    <g transform="translate(370,20)">
      <path class="note" d="M 0,0 V 50 H 160 V 10 h -10 10 l -10,-10 v 10 -10 z" />
      <g transform="translate(4,4)">
        <text x="0" y="16">[[Prototype]] of</text>
        <text x="0" y="32">Object.prototype is null</text>
      </g>
    </g>

    <g transform="translate(570,195)">
      <path class="note" d="M 0,0 V 80 H 220 V 10 h -10 10 l -10,-10 v 10 -10 z" />
      <g transform="translate(4,4)">
        <text x="0" y="16">%GeneratorFunction.prototype%</text>
        <text x="0" y="32">is an ordinary object that serves</text>
        <text x="0" y="48">as the abstract constructor of</text>
        <text x="0" y="64">Generator instances.</text>
      </g>
    </g>

    <g transform="translate(20, 400)">
      <path class="note" d="M 0,0 V 180 H 220 V 10 h -10 10 l -10,-10 v 10 -10 z" />
      <g transform="translate(4,4)">
        <text x="0" y="16">%GeneratorFunction% and</text>
        <text x="0" y="32">%GeneratorFunction.prototype%</text>
        <text x="0" y="48">do not have global names.</text>
        <text x="0" y="80">%GeneratorFunction% is</text>
        <text x="0" y="96">essentially a subclass of</text>
        <text x="0" y="112">Function and is structured as</text>
        <text x="0" y="128">if it were declared as:</text>
        <text x="8" y="160">class extends Function { }</text>
      </g>
    </g>

    <g transform="translate(370,520)">
      <path class="note" d="M 0,0 V 60 H 160 V 10 h -10 10 l -10,-10 v 10 -10 z" />
      <g transform="translate(4,4)">
        <text x="0" y="16">A typical generator</text>
        <text x="0" y="32">function. It is not a</text>
        <text x="0" y="48">constructor.</text>
      </g>
    </g>

    <g transform="translate(570,560)">
      <path class="note" d="M 0,0 V 120 H 320 V 10 h -10 10 l -10,-10 v 10 -10 z" />
      <g transform="translate(4,4)">
        <text x="0" y="16">Each Generator Function has an associated</text>
        <text x="0" y="32">prototype that does not have a constructor</text>
        <text x="0" y="48"> property. Hence a generator instance does not</text>
        <text x="0" y="64"> expose access to its generator function.</text>
        <text x="0" y="96">But the prototype may be used to add additional</text>
        <text x="0" y="112">behavior to its generator function's instances.</text>
      </g>
    </g>

    <!-- proto-slot arrows -->

    <marker id="proto-slot-arrowend" viewBox="0 0 10 10" refX="10" refY="5"
        markerUnits="userSpaceOnUse" markerWidth="14" markerHeight="14"
        orient="auto">
      <path class="proto-slot-arrowend" d="M 0,0 L 9,5 L 0,10 z" />
    </marker>

    <path class="proto-slot-arrow" d="M 450,160 V 120" /> <!-- between Object.prototype and Function.prototype -->
    <path class="proto-slot-arrow" d="M 450,300 V 260" /> <!-- between Function.prototype and %GeneratorFunction.prototype% -->
    <path class="proto-slot-arrow" d="M 450,440 V 370" /> <!-- below %GeneratorFunction.prototype% -->

    <path class="proto-slot-arrow" d="M 100,200 V 175 H 360" /> <!-- between Function and Function.prototype -->
    <path class="proto-slot-arrow" d="M 100,300 V 260" /> <!-- between Function and %GeneratorFunction% -->

    <path class="proto-slot-arrow" d="M 800,120 V 105 H 530" />
    <path class="proto-slot-arrow" d="M 800,300 V 180" />
    <path class="proto-slot-arrow" d="M 800,440 V 410" />
    <path class="proto-slot-arrow" d="M 800,500 V 470" />

    <!-- prototype/constructor arrows -->

    <marker id="prototype-arrowstart" viewBox="0 0 10 10" refX="0" refY="5"
        markerUnits="userSpaceOnUse" markerWidth="14" markerHeight="14"
        orient="auto">
      <path class="prototype-arrowend" d="M 10,0 L 1,5 L 10,10" />
    </marker>

    <marker id="prototype-arrowend" viewBox="0 0 10 10" refX="10" refY="5"
        markerUnits="userSpaceOnUse" markerWidth="14" markerHeight="14"
        orient="auto">
      <path class="prototype-arrowend" d="M 0,0 L 9,5 L 0,10" />
    </marker>

    <path class="prototype-constructor-arrow" d="M 180,315 H 340" />
    <text x="335" y="306" text-anchor="end">constructor</text>
    <text x="185" y="334">prototype</text>

    <path class="prototype-constructor-arrow" d="M 560,315 H 630" />
    <text x="665" y="295" text-anchor="end">constructor</text>
    <text x="565" y="334">prototype</text>

    <path class="prototype-arrow" d="M 530,455 H 720" />
    <text x="535" y="470">prototype</text>

    <!-- instance arrows -->

    <path class="instance-arrow" d="M 370,440 L 180,360" />
    <text x="330" y="420">instanceof</text>

    <path class="instance-arrow" d="M 720,500 L 530,490" />
    <text x="715" y="516" text-anchor="end">instanceof</text>

    <!-- note lines -->

    <path class="note-arrow" d="M 450,70 V 90" />
    <path class="note-arrow" d="M 450,520 V 490" />

    <path class="note-arrow" d="M 560,300 L 570,280" />

    <path class="note-arrow" d="M 100,400 V 360" />

    <path class="note-arrow" d="M 800,560 V 530" />
  </g>
</svg>
